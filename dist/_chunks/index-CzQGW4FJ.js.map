{"version":3,"file":"index-CzQGW4FJ.js","sources":["../../admin/src/pluginId.ts","../../admin/src/utils/getTranslation.ts","../../admin/src/components/Initializer.tsx","../../admin/src/components/logo/index.tsx","../../admin/src/components/PluginIcon.tsx","../../admin/src/permissions.ts","../../admin/src/index.ts"],"sourcesContent":["export const PLUGIN_ID = 'mux-video-uploader';\n","import { PLUGIN_ID } from '../pluginId';\n\nconst getTranslation = (id: string) => `${PLUGIN_ID}.${id}`;\n\nexport { getTranslation };\n","import React from 'react';\n\nimport { PLUGIN_ID } from '../pluginId';\n\ntype InitializerProps = {\n  setPlugin: (id: string) => void;\n};\n\nconst Initializer = ({ setPlugin }: InitializerProps) => {\n  const ref = React.useRef(setPlugin);\n\n  React.useEffect(() => {\n    ref.current(PLUGIN_ID);\n  }, []);\n\n  return null;\n};\n\nexport { Initializer };\n","import React from 'react';\n\nconst Logo = () => (\n  <svg width=\"16\" height=\"16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M14.62.153a1.972 1.972 0 0 0-2.16.433L7.92 5.173 3.38.586A1.96 1.96 0 0 0 1.22.153 1.996 1.996 0 0 0 0 1.999v12c0 1.106.887 2 1.98 2s1.98-.894 1.98-2V6.826l2.56 2.586c.773.78 2.026.78 2.8 0l2.56-2.586v7.173c0 1.106.886 2 1.98 2 1.092 0 1.979-.894 1.979-2v-12a1.985 1.985 0 0 0-1.22-1.846Z\"\n      fill=\"#C0C0CF\"\n    />\n  </svg>\n);\n\nexport default Logo;\n","import Logo from './logo';\n\nconst PluginIcon = () => <Logo />;\n\nexport { PluginIcon };\n","import { PLUGIN_ID } from './pluginId';\n\nconst settingsRead = { action: `plugin::${PLUGIN_ID}.settings.read`, subject: null };\nconst settingsUpdate = { action: `plugin::${PLUGIN_ID}.settings.update`, subject: null };\nconst mainRead = { action: `plugin::${PLUGIN_ID}.read`, subject: null };\nconst mainCreate = { action: `plugin::${PLUGIN_ID}.create`, subject: null };\nconst mainUpdate = { action: `plugin::${PLUGIN_ID}.update`, subject: null };\nconst mainDelete = { action: `plugin::${PLUGIN_ID}.delete`, subject: null };\n\nconst pluginPermissions = {\n  // This permission regards the main component (App) and is used to tell\n  // If the plugin link should be displayed in the menu\n  // And also if the plugin is accessible. This use case is found when a user types the url of the\n  // plugin directly in the browser\n  settingsRoles: new Array().concat(settingsRead, settingsUpdate),\n  settingsRead,\n  settingsUpdate,\n  mainRead,\n  mainCreate,\n  mainUpdate,\n  mainDelete,\n};\n\nexport default pluginPermissions;\n","import { getTranslation } from './utils/getTranslation';\nimport { PLUGIN_ID } from './pluginId';\nimport { Initializer } from './components/Initializer';\nimport { PluginIcon } from './components/PluginIcon';\nimport pluginPermissions from './permissions';\n\nexport default {\n  register(app: any) {\n    app.addMenuLink({\n      to: `plugins/${PLUGIN_ID}`,\n      icon: PluginIcon,\n      intlLabel: {\n        id: getTranslation('Common.plugin-title'),\n        defaultMessage: 'Mux Video Uploader',\n      },\n      permissions: [pluginPermissions.mainRead],\n      Component: () => import('./pages/App'),\n    });\n\n    app.registerPlugin({\n      id: PLUGIN_ID,\n      initializer: Initializer,\n      isReady: false,\n      name: PLUGIN_ID,\n    });\n  },\n\n  async registerTrads(app: any) {\n    const { locales } = app;\n\n    const importedTranslations = await Promise.all(\n      (locales as string[]).map((locale) => {\n        return import(`./translations/${locale}.json`)\n          .then(({ default: data }) => {\n            return {\n              data: getTranslation(data),\n              locale,\n            };\n          })\n          .catch(() => {\n            return {\n              data: {},\n              locale,\n            };\n          });\n      })\n    );\n\n    return importedTranslations;\n  },\n};\n"],"names":["React","jsx"],"mappings":"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"}